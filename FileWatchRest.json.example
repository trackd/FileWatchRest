{
  "Folders": [
    {
      "FolderPath": "C:\\temp\\watch",
      "ActionName": "RestEndpoint1"
    },
    {
      "FolderPath": "C:\\data\\incoming",
      "ActionName": "ObjectScript"
    },
    {
      "FolderPath": "C:\\data\\outgoing",
      "ActionName": "ProcessScript"
    }
  ],
  "Actions": [
    {
      "Name": "ProcessScript",
      "ActionType": "PowerShellScript",
      "ScriptPath": "C:\\scripts\\process.ps1",
      "Arguments": ["-Path","{FilePath}"],
      "IncludeSubdirectories": false,
      "MoveProcessedFiles": false,
      "AllowedExtensions": [".txt", ".log"],
      "ProcessedFolder": "script_processed"
    },
    {
      "Name": "ObjectScript",
      "ActionType": "PowerShellScript",
      "ScriptPath": "C:\\scripts\\processObject.ps1",
      "Arguments": ["{FileNotification:json}"],
      "IncludeSubdirectories": true,
      "AllowedExtensions": [".json", ".xml"],
      "Retries": 5
    },
    {
      "Name": "RestEndpoint1",
      "ActionType": "RestPost",
      "ApiEndpoint": "https://api.example.com/files",
      "BearerToken": "your-bearer-token-here-will-be-encrypted-automatically",
      "PostFileContents": true,
      "MoveProcessedFiles": true,
      "AllowedExtensions": [".pdf", ".docx"],
      "MaxContentBytes": 10485760,
      "Retries": 5
    }
  ],
  "ApiEndpoint": "https://api.example.com/files",
  "BearerToken": "your-bearer-token-here-will-be-encrypted-automatically",
  "PostFileContents": true,
  "MoveProcessedFiles": true,
  "ProcessedFolder": "processed",
  "AllowedExtensions": [
    ".txt",
    ".json",
    ".xml"
  ],
  "ExcludePatterns": [
    "Backup_*",
    "*_temp*",
    "*.bak"
  ],
  "IncludeSubdirectories": true,
  "DebounceMilliseconds": 1000,
  "Retries": 3,
  "RetryDelayMilliseconds": 500,
  "WatcherMaxRestartAttempts": 3,
  "WatcherRestartDelayMilliseconds": 1000,
  "DiagnosticsUrlPrefix": "http://localhost:5005/",
  "DiagnosticsBearerToken": null,
  "ChannelCapacity": 1000,
  "MaxParallelSends": 4,
  "FileWatcherInternalBufferSize": 65536,
  "WaitForFileReadyMilliseconds": 0,
  "DiscardZeroByteFiles": false,
  "MaxContentBytes": 5242880,
  "StreamingThresholdBytes": 262144,
  "EnableCircuitBreaker": false,
  "CircuitBreakerFailureThreshold": 5,
  "CircuitBreakerOpenDurationMilliseconds": 30000,
  "Logging": {
    "LogType": "Csv",
    "FilePathPattern": "logs/FileWatchRest_{0:yyyyMMdd_HHmmss}",
    "LogLevel": "Information",
    "RetainedDays": 14
  }
}
